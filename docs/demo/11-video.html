<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<title>video视频</title>
  <style>
    section {
        display: none;
    }
    .player_box {
        position: relative;
    }
    .player_box video {
        position: relative;
        display: block;
        width: 100%;
    }
    .player_box video::cue {
        padding: 2px;
        background: rgba(60,100,90,0.5);
        color: #c9effa;
    }
    .player_box .player_pop {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 12.5%;
        background: rgba(0, 240, 240, 0.5);
        z-index: 1;
        pointer-events: none;
    }
  </style>

</head>
<body>
<section>
    <div class="player_box">
        <video
            controls
            controlslist="nodownload nofullscreen noremoteplayback"
            loop="true"
            poster="https://my-files-1259410276.cos.ap-chengdu.myqcloud.com/md/media/美人谷-阿兰.jpg"

            x5-playsinline="true"
            x5-video-player-type="h5-page"
            webkit-playsinline="true"
            playsinline="true"

            currentTime="100"
            muted
        >
            <source src="https://my-files-1259410276.cos.ap-chengdu.myqcloud.com/md/media/美人谷.mp4" type="video/mp4">
            <!-- <source src="https://my-files-1259410276.cos.ap-chengdu.myqcloud.com/md/media/Vives En Mi-art--Sharlene Taule--art-af1309f88d9fda37e0dc4ad2e2c4c9b8.mp4" type="video/mp4"> -->
            <p>
                Your browser doesn't support HTML5 video. Here is a <a href="myVideo.mp4">link to the video</a> instead.
            </p>
            <track default kind="subtitles" src="./assets/美人谷 - 阿兰.vtt" srclang="cn" label="中文字幕">
            <track kind="subtitles" src="sampleSubtitles_de.vtt" srclang="de">
            <track kind="descriptions" src="sampleDescriptions.vtt" srclang="en">
            <track kind="chapters" src="sampleChapters.vtt" srclang="en">
            <track kind="metadata" src="keyStage3.vtt" srclang="en" label="Key Stage 3">
        </video>
        <div class="player_pop"></div>
    </div>
</section>


<script src="./utils.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script type="text/javascript">
    let type = null
    let callback = function () {
        type = Utils.getUrlParam('type') * 1 || 1
        Array.prototype.slice.apply(document.querySelectorAll('section')).map((ele, i) => {
            ele.style.display = i === type - 1 ? 'block' : 'none'
        })
        document.querySelector("video").addEventListener('canplay', () => {
            document.querySelector("video").play()
            document.querySelector("video").volume = 0.05
        })
        document.querySelector("video").addEventListener('touchmove', () => {
        })
        document.querySelector("video").addEventListener('canplaythrough', () => {
        })
        document.addEventListener("WeixinJSBridgeReady", function (){ 
            document.querySelector('video').play()
        }, false)
    }
    if (
        document.readyState === "complete" ||
        (document.readyState !== "loading" && !document.documentElement.doScroll)
    ) {
        callback()
    } else {
        document.addEventListener("DOMContentLoaded", callback)
    } 
</script>
</body>
</html>
